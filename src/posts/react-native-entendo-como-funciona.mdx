---
title: "React Native: Entendendo como funciona"
description: "Entendo como o React Native funciona"
publish_date: "2025-03-29"
author: "Leonardo Gomes"
---

O React Native j√° faz parte do meu dia-a-dia h√° alguns anos, foi com ele que pude ter um primeiro contato com o mundo de desenvolvimento mobile. 

Hoje quero compartilhar um pouco sobre como o React Native funciona e como ele torna poss√≠vel o desenvolvimento de aplicativos para Android e iOS.
## Estrutura
**‚ÄúO React Native permite que os desenvolvedores que conhecem React criem aplicativos nativos.‚Äù** √â assim que somos inicialmente apresentados a esse framework em umas das primeiras p√°ginas da doc oficial: [Get Started with React Native](https://reactnative.dev/docs/environment-setup).

Muitas vezes, essa apresenta√ß√£o inicial do React Native como um framework para criar aplicativos nativos pode parecer confusa, pois ele na verdade **n√£o gera nenhum c√≥digo nativo**.

Pelo menos n√£o diretamente... como faria um app escrito em Swift (iOS) ou Kotlin (Android). Em vez disso, ele usa uma ponte, a **Bridge**, para o c√≥digo JavaScript conseguir se comunicar com as APIs e componentes nativos. 

Isso se torna mais claro ao compararmos com outros frameworks, como o Cordova e Ionic que rodam parte da interface do app em cima de uma WebView.

> ‚Äú...WebView √© um componente de software de grande escala que permite o uso de conte√∫do web dentro de aplicativos...‚Äù - [Wikipedia](https://en.wikipedia.org/wiki/WebView)

Diferente deles, o React Native realmente utiliza elementos nativos para a interface do usu√°rio. Isso significa que um `Text` no React Native se transforma em um `UITextView` no iOS e um `TextView` no Android.

| React Native | Android       | iOS             | Web     |
| ------------ | ------------- | --------------- | ------- |
| `<View>`     | `<ViewGroup>` | `<UIView>`      | `<div>` |
| `<Text>`     | `<TextView>`  | `<UITextView>`  | `<p>`   |
| `<Image>`    | `<ImageView>` | `<UIImageView>` | `<img>` |

## Construindo interfaces
No React Native, **tudo √© baseado em views**! Bem... digo, a constru√ß√£o da interface do usu√°rio √© toda baseada em views. üé®

> Uma **view** √© um bloco de UI usado para compor a tela, seja uma imagem, um texto ou um bot√£o, todos s√£o tipos de views.

Em desenvolvimento nativo, as views s√£o escritas usando **Kotlin**/**Java** no Android e **Swift**/**Objective-C** no iOS. J√° no React Native, essas views s√£o criadas com **JSX** e, durante a execu√ß√£o, esses componentes React s√£o convertidos para os equivalentes nativos no Android e no iOS.

```jsx
import React from 'react';
import { Text, View } from 'react-native';

const App = () => {
  return (
    <View
      style={{
        flex: 1,
        justifyContent: 'center',
        alignItems: 'center',
      }}
    >
      <Text>Salve!</Text>
    </View>
  );
};

export default App;
```

Se quiser entender um pouco mais sobre o uso do React no React Native, recomendo ler essa se√ß√£o sobre [Fundamentos do React](https://reactnative.dev/docs/intro-react) l√° na doc oficial.
## Arquitetura
Ali no come√ßo eu falei brevemente sobre a **Bridge**, a primeira arquitetura do React Native. "Primeira", pois uma segunda e **nova arquitetura** j√° vem sendo desenvolvida desde 2018 pelo time do React Native.

> [React Native's New Architecture - Parashuram N - React Conf 2018](https://www.youtube.com/watch?v=UcqRXTriUVI)

Mas por que uma nova arquitetura? Qual o problema da Bridge? ü§î

Nessa arquitetura com a Bridge, o **JavaScript** e o lado **Nativo** n√£o sabem realmente da exist√™ncia um do outro, eles n√£o tem uma **refer√™ncia**. Para eles se comunicarem eles dependem das trocas de mensagens **JSON** ass√≠ncronas que s√£o serializadas e desserializadas pela Bridge. Isso introduz uma camada ass√≠ncrona que tem impacto na performance em algumas situa√ß√µes.

```mermaid
---
title: Diagrama simplificado da arquitetura Bridge
---
flowchart TD
    R1(React)
    JS(JavaScript)
    B1((Bridge))
    N1(Native)

    R1 --> JS
    JS <-->|JSON Message| B1
    B1 <-->|JSON Message| N1
```

Imagine o seguinte cen√°rio:

1. App com uma grande quantidade de dados para mostrar na tela.
2. Diversos eventos.
3. M√∫ltiplas atualiza√ß√µes de estado em resposta desses eventos ocorrendo.

Em uma situa√ß√£o assim, a Bridge ira ficar sobrecarregada... üí£

Todo esse processo das trocas de mensagens JSON, serializa√ß√£o e desserializa√ß√£o dos dados ir√£o gerar um "lag" na aplica√ß√£o, fazendo aparecer, por exemplo, *flashes* de tela branca e *delays* na renderiza√ß√£o de alguns itens durante esses processos.

<div style={{ textAlign: 'center', fontSize: 'var(--font-size-lg)' }}>ü´† . . .</div>

Para resolver isso, surge a **nova arquitetura**! üéâ

Nela, a Bridge √© substitu√≠da pelo **Fabric**, um novo sistema de renderiza√ß√£o do React Native que permite criar e manipular views diretamente na thread nativa, de forma mais eficiente.

Al√©m disso, entram tamb√©m os **Turbo Modules**, uma abordagem diferente para a intera√ß√£o com o lado nativo, permitindo que o JavaScript carregue m√≥dulos nativos apenas quando necess√°rio.

Com essa nova arquitetura, o combo **Fabric** e **Turbo Modules** permitem que o **JavaScript** mantenha uma **refer√™ncia direta** aos componentes e m√≥dulos nativos, reduzindo bastante a comunica√ß√£o ass√≠ncrona da Bridge e melhorando significativamente a performance do app.

```mermaid
---
title: Diagrama simplificado da nova arquitetura
---
flowchart TD
    R1(React)
    JS(JavaScript)
    F1T1([Fabric + Turbo Modules])
    N1(Native)

    R1 --> JS
    JS --> F1T1
    F1T1 --> N1
```

A nova arquitetura ficou por um bom tempo como *experimental*, mas j√° passou a ser habilitada por *default* em projetos React Native 0.76+.

> [React Native 0.76 - New Architecture by default, React Native DevTools, and more](https://reactnative.dev/blog/2024/10/23/release-0.76-new-architecture)

H√° um grande esfor√ßo do time da Meta em melhorar documenta√ß√µes e suporte a nova arquitetura. Afinal, querem garantir que a comunidade e in√∫meras bibliotecas fa√ßam a migra√ß√£o para a nova arquitetura.

## Finalizando
√â isso! Isso foi uma breve vis√£o sobre o funcionamento do React Native.

Valeu! üòÅ
## Refer√™ncias
[Core Components and Native Components](https://reactnative.dev/docs/intro-react-native-components)<br/>
[Architecture Overview](https://reactnative.dev/architecture/overview)<br/>
[New Architecture is here](https://reactnative.dev/blog/2024/10/23/the-new-architecture-is-here)<br/>
[Aplica√ß√µes hibridas otimizam o webview?](https://pt.stackoverflow.com/questions/125990/aplica%C3%A7%C3%B5es-hibridas-otimizam-o-webview)<br/>
[The New React Native Architecture Explained](https://commerce.nearform.com/blog/2019/react-codegen-part-1/)
